<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <script
    src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous" onload="window.$ = window.jQuery = module.exports;"></script>
    <script
    src="engine.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
 

    <title>FlashDeck</title>
    <style>
      .col-sm{
        margin-top:1em
      }
      
      .app_logo{
        height:5em
      }
      .card_btn{
    background-color: white;
    border-radius: 1em;
    width: 5em;
    height: 5em;
      }
      .card_btn:hover{
        background-color:#d3d3d3;
      }
      
 
#container_btn{
  margin-top: -2em;
width:30em;
}
#result{
  margin:1em;
}
.text_icon{
  padding-top: 20%;
    position: relative;
    color:#424242;
}
input[type="file"] {
    display: none;
}
.custom-file-upload {
    border: 1px solid #ccc;
    display: inline-block;
    padding: 6px 12px;
    cursor: pointer;
}
.current_page{
background-color: #e8aa62 !important;
transition: 0.2s;
}
.page:hover{
background-color:rgb(70, 218, 168);
transition: 0.2s;
}
.page{
transition: 0.2s;
}
.add_page{
  margin-top: -0.4em;
    color: #b1b1b1;

}
.remove_page{
  margin-left: -1em;

  margin-top: -0.4em;
    color: #f16464;
}
    </style>
  </head>

  <body style="background-color:#424242;color:#FFF" onload="init()">
    <p><img alt="" class="app_logo" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CgogPGc+CiAgPHRpdGxlPmJhY2tncm91bmQ8L3RpdGxlPgogIDxyZWN0IGZpbGw9Im5vbmUiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgaGVpZ2h0PSI0MDIiIHdpZHRoPSI1ODIiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgogPGc+CiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZT0iI2ZmZmZmZiIgZmlsbD0iI2ZmNmU2ZSIgaWQ9InN2Z18xIiBkPSJtMzMsOGwtMTIuMTU4LDBsLTYuODQyLDE0bDYsMGwtOCwxOGwyNCwtMTlsLTksMGw2LC0xM3oiIGNsYXNzPSJ2aS1wcmltYXJ5Ii8+CiAgPHBhdGggZmlsbD0iIzdmN2Y3ZiIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlPSIjZmZmZmZmIiBpZD0ic3ZnXzIiIGQ9Im0yOC40MjEsMjcuMTA4Njk2bC0xNi40MjEsMTNsNS43NzgsLTEzbDEwLjY0MywweiIgY2xhc3M9InZpLWFjY2VudCIvPgogPC9nPgo8L3N2Zz4=" /><span>FlashDeck</span></p>

    <div class="container" id="container_btn">

      <div class="row" id="deck">

    
    </div>

   

    <ol class="carousel-indicators" id="pageindicator">
      <a id="savebtnhandler"></a>
    </ol>
 

    <div class="modal fade"  data-backdrop="static" data-keyboard="false" style="color:#000" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="titlemodal">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Nom de la touche</p>

            <input type="text" class="form-control" id="nameoftouche" >
            <br>
           <p>Action de la touche :</p>
            <div id="actionframe">

            </div>

           <center>
            <span onclick="addactionforbutton()" class="material-icons">
              add_circle_outline
              </span>
           </center>
           

          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Annuler</button>
            <button type="button" onclick="savebutton();" id="validatebuttonsave" class="btn btn-success">Valider</button>
          </div> 
        </div>
      </div>
    </div>
  </div>

<div class="modal fade" style="color:#000" id="selectaction" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="fdgdg">Séléction d'une action</h5>
                
      </div>
      <div class="modal-body">
        <select class="form-control" id="selectewheel" onchange="selectedchoose();">
          <option value="0">Ne Rien Faire</option>
          <option value="1">Ecrire une série de lettre</option>
          <option value="2">Ouvrir un programme</option>
          <option value="3">Jouer un son</option>     
          <option value="4">Contrôle Multimedia</option>
          <option value="5">Raccourci Clavier</option>    
          <option value="6">Delai</option>          
        </select>
        <div id="result">

        </div>
    </div>
    <div class="modal-footer">
      <button type="button" onclick="closemodalselection()" class="btn btn-danger">Annuler</button>
      <button type="button"  onclick="validate()"class="btn btn-success">Valider</button>
    </div> 
  </div>
</div>
</div>


    <div class="modal fade" style="color:#000" id="waitingmobile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h6 class="modal-title" id="fdgdg">En attente d'un appareil</h6>
             
           
          </div>
          <div class="modal-body">
            <center>
              <img alt="" style="height:2em" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIxMXB4IiBoZWlnaHQ9IjIxMXB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMyNjIzMjMiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLWRhc2hhcnJheT0iNDIuNzY0ODIxMzcwNDQyNzEgNDIuNzY0ODIxMzcwNDQyNzEiIGQ9Ik0yNC4zIDMwQzExLjQgMzAgNSA0My4zIDUgNTBzNi40IDIwIDE5LjMgMjBjMTkuMyAwIDMyLjEtNDAgNTEuNC00MCBDODguNiAzMCA5NSA0My4zIDk1IDUwcy02LjQgMjAtMTkuMyAyMEM1Ni40IDcwIDQzLjYgMzAgMjQuMyAzMHoiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3R5bGU9InRyYW5zZm9ybTpzY2FsZSgwLjg4KTt0cmFuc2Zvcm0tb3JpZ2luOjUwcHggNTBweCI+CiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlLWRhc2hvZmZzZXQiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjAuOTgwMzkyMTU2ODYyNzQ1MXMiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMDsyNTYuNTg4OTI4MjIyNjU2MjUiPjwvYW5pbWF0ZT4KPC9wYXRoPgo8IS0tIFtsZGlvXSBnZW5lcmF0ZWQgYnkgaHR0cHM6Ly9sb2FkaW5nLmlvLyAtLT48L3N2Zz4=" />
            
              <br><p>Acceder à l'application</p><img style="height:6em" id="qrcodeappli" src="">
              <br><small id="qrcodesub"></small>

            </center>
        </div>
      </div>
    </div>
  </div>
   <script>
      require('./renderer.js')
    </script>
       <script>
     
        const { ipcRenderer } = require('electron')
        document.config = JSON.parse(ipcRenderer.sendSync('config_init', ''))
        console.log(document.config)     
        var syncdevices = setInterval(function(){
          synstate = ipcRenderer.sendSync('connecok', '')
          console.log(synstate)
          if(synstate == 1){
            hideqr()
            console.log("HIDE")
            clearInterval(syncdevices)
          }
        }, 500)
  
  
    </script>
  </body>
</html>